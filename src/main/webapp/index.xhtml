<?xml version="1.0" encoding="UTF-8"?>
<!--
  Created by IntelliJ IDEA.
  User: lukaswigger
  Date: 14.05.23
  Time: 14:47
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions" xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
    <title>Doodle</title>
    <link rel="stylesheet" href="css/tail-wind.css" />
    <link rel="stylesheet" href="css/tailwind.css" />
</h:head>

<h:body class="bg-gray-900">
    <div class="relative overflow-x-auto shadow-md">
        <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
            <caption class="p-5 text-lg font-semibold text-left bg-gray-800 text-white">
                <div class="flex justify-between items-center">
                    <span class="text-3xl">Room reservations</span>
                    <h:form>
                        <h:commandLink  action="#{reservationBean.add()}" class="my-4 shrink-0 h-12 rounded-md border border-blue-600 bg-blue-600 px-12 py-3 text-sm font-medium text-white transition hover:bg-transparent focus:outline-none focus:ring active:text-blue-500 hover:bg-blue-700 hover:text-white w-52 items-end" style="width: 215px;">Add reservation</h:commandLink>
                    </h:form>
                </div>
            </caption>
            <thead class="text-xs uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
            <tr>
                <th scope="col" class="px-6 py-3">Date:</th>
                <th scope="col" class="px-6 py-3">From:</th>
                <th scope="col" class="px-6 py-3">To:</th>
                <th scope="col" class="px-6 py-3">Room:</th>
                <th scope="col" class="px-6 py-3">Participant:</th>
                <th scope="col" class="px-6 py-3">Comment:</th>
                <th scope="col" class="px-6 py-3">View:</th>
                <th scope="col" class="px-6 py-3">Edit:</th>
            </tr>
            </thead>
            <tbody>
            <ui:fragment rendered="#{not empty reservationBean.getCollectionEvents()}">
                <ui:repeat value="#{reservationBean.getCollectionEvents()}" var="reservation">
                    <tr class="bg-gray-800">
                        <td class="px-6 py-4 whitespace-nowrap">
                            <div class="text-sm text-white">#{reservation.date != null ? reservation.date : 'No date definied'}</div>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <div class="text-sm text-white">#{reservation.from != null ? reservation.from : 'No from definied'}</div>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <div class="text-sm text-white">#{reservation.to != null ? reservation.to : 'No to definied'}</div>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <div class="text-sm text-white">#{reservation.room != null ? reservation.room : 'No rooms definied'}</div>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <div class="text-sm text-white">#{reservation.participants != null ? fn:substring(reservation.participants, 1, fn:length(reservation.participants) - 1) : 'No participants definied'}</div>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <div class="text-sm text-white">#{reservation.comment != null ? reservation.comment : 'No comment available'}</div>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <h:link value="View reservation" outcome="view.xhtml" class="active:text-blue-500 w-52 items-end text-blue-600" style="width: 215px;">
                                <f:param name="id" value="#{reservation.id_public != null ? reservation.id_public : ''}" />
                            </h:link>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <h:form>
                                <h:commandLink value="Edit reservation" action="#{reservationBean.edit(reservation.id_private)}" class="active:text-blue-500 w-52 items-end text-blue-600" style="width: 215px;"/>
                            </h:form>
                        </td>
                    </tr>
                </ui:repeat>
            </ui:fragment>
            <ui:fragment rendered="#{empty reservationBean.getCollectionEvents()}">
                <tr class="bg-gray-800">
                    <td class="px-6 py-4 whitespace-nowrap" colspan="7">
                        <div class="text-sm text-white">No reservations found</div>
                    </td>
                </tr>
            </ui:fragment>
            </tbody>
        </table>
    </div>
</h:body>

</html>